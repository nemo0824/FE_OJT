<!DOCTYPE html>
<html lang="en">

<head>

	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title></title>
	<!--    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">-->
	<link rel="stylesheet" href="OJT_FE_layout.css" type="text/css">

	<script src="https://code.jquery.com/jquery-1.12.4.js"></script>
	<script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"
		integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL" crossorigin="anonymous">
	</script>

	<!--폰트-->
	<link rel="preconnect" href="https://fonts.googleapis.com">
	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link
		href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@100;200;300;400;500;600;700;800;900&display=swap"
		rel="stylesheet">

	<!--아이콘-->
	<link href="https://fonts.googleapis.com/css2?family=Material+Icons+Outlined" rel="stylesheet" />
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" />
	<script src="https://kit.fontawesome.com/kitcode.js" crossorigin="anonymous"></script>


</head>

<body>
	<div id="test1">
		<nav class="Main_Nav">
			<span class="Main_Nav_Logo">
				<img src="Cnt_logo_old_white.png" id="Logo">
			</span>
			<span class="material-icons-outlined" id="Hamberger_Icon">
				menu
			</span>

		</nav>

		<!-- Modal 창 -->
		<div class="Modal_Black_Bg ">
			<div class="Modal_White_Bg">
				<div class="Modal_Header">
					<div class="Modal_Header_Logo">로고</div>
					<div class="Modal_Header_Title">응급 판별도</div>
				</div>
				<div class="Modal_Wrap">
					<div class="Modal_Wrap_Up">
						<div class="Modal_Wrap_Up_Content">회원정보</div>
						<div class="Modal_Wrap_Up_Content">
							<div class="Modal_Wrap_Up_Content_Title">나이</div>
							<div class="Modal_Wrap_Up_Content_Value">몇살</div>
						</div>
						<div class="Modal_Wrap_Up_Content">
							<div class="Modal_Wrap_Up_Content_Title">성별</div>
							<div class="Modal_Wrap_Up_Content_Value">여자/남자</div>
						</div>
						<div class="Modal_Wrap_Up_Content">
							<div class="Modal_Wrap_Up_Content_Title">내원일</div>
							<div class="Modal_Wrap_Up_Content_Value">몇년도 몇월 몇시 몇분 </div>
						</div>
					</div>	
					<div class="Modal_Wrap_Down">
						<div class="Modal_Wrap_Down_Content">
							<div class="Modal_Wrap_Down_Content_Title">입원필요성</div>
							<div class="Modal_Wrap_Down_Content_Value">몇점</div>
						</div>
						<div class="Modal_Wrap_Down_Content">
							<div class="Modal_Wrap_Down_Content_Title">중환자필요성</div>
							<div class="Modal_Wrap_Down_Content_Value">몇점</div>
						</div>
						<div class="Modal_Wrap_Down_Content">
							<div class="Modal_Wrap_Down_Content_Title">사망필요성</div>
							<div class="Modal_Wrap_Down_Content_Value">몇점</div>
						</div>
					</div>
				</div>
				<button id="Modal_Close"> 닫기 </button> 
			</div>
		
		</div>
 
		<div class="Main_Panel">

			<div id="test23">
				<div id="test5">
					<div id="test2">
						<div class="Main_Panel_InputBox_left_First">
							<div class="Main_Panel_Input">
								<span class="title">나이</span>
								<input id="User_Age" type="number" onchange="onChangeAge()">
								<p class="tip">*기본 정보</p>
								<p id="setAgeMessage"></p>
								<span class="unit_Age">세</span>
							</div>
							<div class="Main_Panel_Input">
								<span class="title">성별</span>
								<div class="radio_wrap">
									<div class="form_radio_btn radio_male">
										<input id="radio-1" type="radio" name="userSex" value="male" checked
											onchange="onChangeGender()">
										<label for="radio-1">남자</label>
									</div>

									<div class="form_radio_btn">
										<input id="radio-2" type="radio" name="userSex" value="female"
											onchange="onChangeGender()">
										<label for="radio-2">여자</label>
									</div>
								</div>

							</div>
							<div class="Main_Panel_Input">
								<span class="title">발병일</span>
								<input type="datetime-local" id="Disease_Date" onchange="onchangeDate()">
							</div>
							<div class="Main_Panel_Input">
								<span class="title">내원일</span>
								<input type="datetime-local" id="Hospital_Enroll"
									onchange="onChangeHospitalDate(event)">
							</div>
						</div>

						<div class="Main_Panel_InputBox_left_Second">

							<div class="Main_Panel_Input">
								<span class="title">구급차 여부</span>
								<div class="radio_wrap">
									<div class="form_radio_btn radio_male">
										<input id="radio-3" type="radio" name="emergencybus" value="Y" checked>
										<label for="radio-3">Y</label>
									</div>

									<div class="form_radio_btn">
										<input id="radio-4" type="radio" name="emergencybus" value="N">
										<label for="radio-4">N</label>
									</div>
								</div>
							</div>
							<div class="Main_Panel_Input">
								<span class="title">중독 여부</span>
								<div class="radio_wrap">
									<div class="form_radio_btn radio_male">
										<input id="radio-5" type="radio" name="addicted" value="Y" checked>
										<label for="radio-5">Y</label>
									</div>

									<div class="form_radio_btn">
										<input id="radio-6" type="radio" name="addicted" value="N">
										<label for="radio-6">N</label>
									</div>
								</div>

							</div>
							<div class="Main_Panel_Input">
								<span class="title">CPR 여부</span>
								<div class="radio_wrap">
									<div class="form_radio_btn radio_male">
										<input id="radio-7" type="radio" name="cpr" value="Y" checked>
										<label for="radio-7">Y</label>
									</div>

									<div class="form_radio_btn">
										<input id="radio-8" type="radio" name="cpr" value="N">
										<label for="radio-8">N</label>
									</div>
								</div>

							</div>

							<div class="Main_Panel_Input">
								<span class="title">주 증상</span>
								<select>
									<option selected value="">---대표 증상을 선택하시오---</option>
									<option value="1">발열</option>
									<option value="2">저체온</option>
									<option value="3">호흡기</option>
									<option value="4">외상</option>
									<option value="5">중독</option>
									<option value="6">의식불명</option>
									<option value="7">기저질환</option>
								</select>
							</div>

						</div>
					</div>


					<div id="test3">
						<div class="Main_Panel_InputBox_Right_First">
							<div class="Main_Panel_Input">
								<!-- <p class="tip">*활력 징후 </p> -->
								<span class="title">수축기 혈압</span>
								<input id="User_Shrink" type="number" onchange="onChangeShrink()">
								<p id="setShrinkMessage"> </p>
								<span class="unit">mmHg</span>
							</div>

							<div class="Main_Panel_Input">
								<span class="title">이완기 혈압</span>
								<input id="User_Relaxation" type="number" onchange="onChangeRelaxation()">
								<p id="setRelaxationMessage"> </p>
								<span class="unit">mmHg</span>
							</div>
							<div class="Main_Panel_Input">
								<span class="title">맥박수</span>
								<input id="User_Pulse" type="number" onchange="onChangePulse()">
								<p id="setPulseMessage"></p>
								<span class="unit">bpm</span>
							</div>


						</div>

						<div class="Main_Panel_InputBox_Right_Second">
							<div class="Main_Panel_Input">
								<span class="title">호흡수</span>
								<input id="User_Breath" type="number" onchange="onChangeBreath()">
								<p id="setBreathMessage"></p>
								<span class="unit">bpm</span>
							</div>
							<div class="Main_Panel_Input">
								<span class="title">산소포화도</span>
								<input id="User_Oxygen" type="number" onchange="onChangeOxygen()">
								<p id="setOxygenMessage"></p>
								<span class="unit">%</span>
							</div>
							<div class="Main_Panel_Input">
								<span class="title">체온</span>
								<input id="User_Temperature" type="number" onchange="onChangeTemperature()">
								<p id="setTemperatureMessage"></p>
								<span class="unit">°C</span>
							</div>

						</div>

						<div class="Main_Panel_InputBox_Right_Third">
							<div class="Main_Panel_Input">
								<span class="title">의식상태</span>
								<input type="number" id="User_Consciousness" min="0" max="3"
									onchange="onChangeConsciousness()">
								<!-- <p id="Consciousness_Message"></p>
			<input id="User_Consciousness_Range" type="range" min="0" max="3" onchange="onChangeConsciousness_Range()"> -->


							</div>
							<div class="Main_Panel_Input">
								<p id="Consciousness_Message"></p>
							</div>

							<div class="Main_Panel_Input">
								<input id="User_Consciousness_Range" type="range" min="0" max="3"
									onchange="onChangeConsciousness_Range()">
							</div>



						</div>


					</div>
				</div>
				<div id="test4">
					<button id="Modal" class="SummitBtn">버튼</button>
				</div>
			</div>










		</div>

	</div>




	<script>
		// 유효성검사 
		let isAge = false;
		let isShrink = false;
		let isRelaxation = false;
		let isPulse = false;
		let isBreath = false;
		let isOxygen = false;
		let isTemperature = false;
		let isConsciousness = false;
		let isDiseaseDate = false;
		let isHospital = false;

		// 유효성검사 
		const onChangeAge = (e) => {
			const currentAge = document.getElementById('User_Age').value;

			const Age_RegExp = /^(?:100|[1-9][0-9]?|0)$/;

			const Age_Message = document.getElementById('setAgeMessage')

			if (!Age_RegExp.test(currentAge)) {
				Age_Message.classList.remove('Valid_Green')
				Age_Message.innerHTML = "100살 이하로 입력해주세요";
				Age_Message.classList.add('Valid_Red')
				isAge = false;
			} else {
				Age_Message.classList.remove('Valid_Red')
				Age_Message.innerHTML = "올바른 나이 입니다";
				Age_Message.classList.add('Valid_Green')
				isAge = true;
				document.getElementById('Modal_Age').innerHTML = currentAge + "세";
			}

		}


		const onChangeShrink = (e) => {
			const currentShrink = document.getElementById('User_Shrink').value;

			const Shrink_RegExp = /^([0-9]|[1-9][0-9]|[12][0-9]{2}|300)$/;

			const Shrink_Message = document.getElementById('setShrinkMessage')

			if (!Shrink_RegExp.test(currentShrink)) {
				Shrink_Message.classList.remove('Valid_Green')
				Shrink_Message.innerHTML = "300 이하로 입력해주세요"
				Shrink_Message.classList.add('Valid_Red')
				isShrink = false;
			} else {
				Shrink_Message.classList.remove('Valid_Red')
				Shrink_Message.innerHTML = "올바른 수치 입니다";
				Shrink_Message.classList.add('Valid_Green')
				isShrink = true;
			}
		}


		const onChangeRelaxation = (e) => {
			const currentRelaxation = document.getElementById('User_Relaxation').value;

			const Relaxation_RegExp = /^([0-9]|[1-9][0-9]|[12][0-9]{2}|300)$/;

			const Relaxation_Message = document.getElementById('setRelaxationMessage')

			if (!Relaxation_RegExp.test(currentRelaxation)) {
				Relaxation_Message.classList.remove('Valid_Green')
				Relaxation_Message.innerHTML = "300 이하로 입력해주세요";
				Relaxation_Message.classList.add('Valid_Red')
				isRelaxation = false;
			} else {
				Relaxation_Message.classList.remove('Valid_Red')
				Relaxation_Message.innerHTML = "올바른 수치 입니다";
				Relaxation_Message.classList.add('Valid_Green')
				isRelaxation = true;
			}
		}



		const onChangePulse = (e) => {
			const currentPulse = document.getElementById('User_Pulse').value;

			const Pulse_RegExp = /^[0-9]*$/;

			const Pulse_Message = document.getElementById('setPulseMessage')

			if (!Pulse_RegExp.test(currentPulse)) {
				Pulse_Message.classList.remove('Valid_Green');
				Pulse_Message.innerHTML = "정수만 입력해주세요";
				Pulse_Message.classList.add('Valid_Red');
				isPulse = false;
			} else if (currentPulse < 0 || currentPulse > 300) {
				Pulse_Message.classList.remove('Valid_Green');
				Pulse_Message.innerHTML = "0에서 300 사이의 숫자를 입력해주세요";
				Pulse_Message.classList.add('Valid_Red');
				isPulse = false;
			} else {
				Pulse_Message.classList.remove('Valid_Red');
				Pulse_Message.innerHTML = "올바른 수치 입니다";
				Pulse_Message.classList.add('Valid_Green');
				isPulse = true;
			}
		}


		const onChangeBreath = (e) => {
			const currentBreath = document.getElementById('User_Breath').value;

			const Breath_RegExp = /^([0-9]|[1-5][0-9]|60)$/;

			const Breath_Message = document.getElementById('setBreathMessage')

			if (!Breath_RegExp.test(currentBreath)) {
				Breath_Message.classList.remove('Valid_Green')
				Breath_Message.innerHTML = "60 이하로 입력해주세요 "
				Breath_Message.classList.add('Valid_Red')
				isBreath = false;
			} else {
				Breath_Message.classList.remove('Valid_Red')
				Breath_Message.innerHTML = "올바른 수치 입니다";
				Breath_Message.classList.add('Valid_Green')
				isBreath = true;
			}
		}

		const onChangeOxygen = (e) => {
			const currentOxygen = document.getElementById('User_Oxygen').value;

			const Oxygen_RegExp = /^([0-9]|[1-9][0-9]|100)$/;

			const Oxygen_Message = document.getElementById('setOxygenMessage')

			if (!Oxygen_RegExp.test(currentOxygen)) {
				Oxygen_Message.classList.remove('Valid_Green')
				Oxygen_Message.innerHTML = "100 이하로 입력해주세요 "
				Oxygen_Message.classList.add('Valid_Red')
				isOxygen = false;
			} else {
				Oxygen_Message.classList.remove('Valid_Red')
				Oxygen_Message.innerHTML = "올바른 수치 입니다";
				Oxygen_Message.classList.add('Valid_Green')
				isOxygen = true;
			}
		}

		const onChangeTemperature = (e) => {
			const currentTemperature = document.getElementById('User_Temperature').value;

			const Temperature_RegExp = /^-?\d+(\.\d+)?$/;

			const Temperature_Message = document.getElementById('setTemperatureMessage');
			if (!Temperature_RegExp.test(currentTemperature)) {
				Temperature_Message.classList.remove('Valid_Green');
				Temperature_Message.innerHTML = "실수만 입력해주세요";
				Temperature_Message.classList.add('Valid_Red');
				isTemperature = false;
			} else if (currentTemperature < 0 || currentTemperature > 45) {
				Temperature_Message.classList.remove('Valid_Green');
				Temperature_Message.innerHTML = "0~45사이만 입력해주세요";
				Temperature_Message.classList.add('Valid_Red');
				isTemperature = false;
			} else {
				Temperature_Message.classList.remove('Valid_Red');
				Temperature_Message.innerHTML = "올바른 수치 입니다";
				Temperature_Message.classList.add('Valid_Green');
				isTemperature = true;
			}
		}


		// 의식상태 JS
		const onChangeConsciousness = (e) => {

			const currentConsciousness = document.getElementById('User_Consciousness').value;

			const Consciousness_Message = document.getElementById('Consciousness_Message');

			const Consciousness_Range = document.getElementById('User_Consciousness_Range');
			// 다시 선택시 Range 색 초기화 
			Consciousness_Range.classList.remove('Range_Color_0')
			Consciousness_Range.classList.remove('Range_Color_1')
			Consciousness_Range.classList.remove('Range_Color_2')
			Consciousness_Range.classList.remove('Range_Color_3')
			// 다시 선택시 Message 색 초기화
			Consciousness_Message.classList.remove('Range_Message_Color_0')
			Consciousness_Message.classList.remove('Range_Message_Color_1')
			Consciousness_Message.classList.remove('Range_Message_Color_2')
			Consciousness_Message.classList.remove('Range_Message_Color_3')
			if (currentConsciousness == "0") {
				Consciousness_Message.innerHTML = "명료";
				Consciousness_Range.value = "0";
				Consciousness_Range.classList.add('Range_Color_0')
				Consciousness_Message.classList.add('Range_Message_Color_0')
				isConsciousness = true;
			} else if (currentConsciousness == "1") {
				Consciousness_Message.innerHTML = "소리에 반응";
				Consciousness_Range.value = "1";
				Consciousness_Range.classList.add('Range_Color_1')
				Consciousness_Message.classList.add('Range_Message_Color_1')
				isConsciousness = true;
			} else if (currentConsciousness == "2") {
				Consciousness_Message.innerHTML = "통증에 반응";
				Consciousness_Range.value = "2";
				Consciousness_Range.classList.add('Range_Color_2')
				Consciousness_Message.classList.add('Range_Message_Color_2')
				isConsciousness = true;
			} else if (currentConsciousness == "3") {
				Consciousness_Message.innerHTML = "무반응";
				Consciousness_Range.value = "3";
				Consciousness_Range.classList.add('Range_Color_3')
				Consciousness_Message.classList.add('Range_Message_Color_3')
				isConsciousness = true;
			} else {
				Consciousness_Message.innerHTML = "잘못된 입력 값 입니다";
				Consciousness_Message.classList.add('Range_Message_Color_3')
				Consciousness_Range.classList.add('Range_Color_3')
				isConsciousness = false;
			}
		}

		const onChangeConsciousness_Range = (e) => {
			const currentConsciousness_Range = document.getElementById('User_Consciousness_Range').value;

			const Consciousness_Message = document.getElementById('Consciousness_Message');

			const Consciousness = document.getElementById('User_Consciousness');

			const Consciousness_Range = document.getElementById('User_Consciousness_Range');
			// 다시 선택시 Range 색 초기화 
			Consciousness_Range.classList.remove('Range_Color_0')
			Consciousness_Range.classList.remove('Range_Color_1')
			Consciousness_Range.classList.remove('Range_Color_2')
			Consciousness_Range.classList.remove('Range_Color_3')
			// 다시 선택시 Message 색 초기화
			Consciousness_Message.classList.remove('Range_Message_Color_0')
			Consciousness_Message.classList.remove('Range_Message_Color_1')
			Consciousness_Message.classList.remove('Range_Message_Color_2')
			Consciousness_Message.classList.remove('Range_Message_Color_3')

			if (currentConsciousness_Range == "0") {
				Consciousness_Message.innerHTML = "명료";
				Consciousness.value = "0";
				Consciousness_Range.classList.add('Range_Color_0')
				Consciousness_Message.classList.add('Range_Message_Color_0')
				isConsciousness = true;
			} else if (currentConsciousness_Range == "1") {
				Consciousness_Message.innerHTML = "소리에 반응";
				Consciousness.value = "1";
				Consciousness_Range.classList.add('Range_Color_1')
				Consciousness_Message.classList.add('Range_Message_Color_1')
				isConsciousness = true;
			} else if (currentConsciousness_Range == "2") {
				Consciousness_Message.innerHTML = "통증에 반응";
				Consciousness.value = "2";
				Consciousness_Range.classList.add('Range_Color_2')
				Consciousness_Message.classList.add('Range_Message_Color_2')
				isConsciousness = true;
			} else if (currentConsciousness_Range == "3") {
				Consciousness_Message.innerHTML = "무반응";
				Consciousness.value = "3";
				Consciousness_Range.classList.add('Range_Color_3')
				Consciousness_Message.classList.add('Range_Message_Color_3')
				isConsciousness = true;
			} else {
				Consciousness_Message.innerHTML = "잘못된 입력 값 입니다!!";
				Consciousness_Message.classList.add('Range_Message_Color_3')
				isConsciousness = false;

			}
		}
		// 발병일
		const onchangeDate = (e) => {
			if (document.getElementById('Disease_Date').value === "") {
				isDiseaseDate = false;
			} else {
				isDiseaseDate = true;
			}
		}



		//내원일
		const onChangeHospitalDate = (event) => {
			const hospitalEnrollInput = document.getElementById('Hospital_Enroll');
			const userInput = event.target.value;

			if (userInput) {
				hospitalEnrollInput.value = userInput;
				document.getElementById('Modal_Hospital').innerHTML = userInput;
				isHospital = true;

			} else {
				isHospital = false;

			}
		}


		const onChangeGender = (e) => {
			document.getElementById('Modal_Gender').innerHTML = 'male';
			// 애초에 이게 onChange함수이기때문에 아무선택안하면 이함수자체가 작동이안됨 흠 
			// -> 걍 하드코딩 박아놓으면 어떤지 확인
			var radioButtons = document.getElementsByName('userSex');
			var selectedValue = null;


			for (var i = 0; i < radioButtons.length; i++) {
				if (radioButtons[i].checked) {
					selectedValue = radioButtons[i].value;
					break;
				}
			}


			document.getElementById('Modal_Gender').innerHTML = selectedValue;
		}

		// 모달 버튼 누르면 모달 오픈(값이 true일시 열리기)
		document.getElementById('Modal').addEventListener('click', function () {
			// if(isAge && isShrink && isRelaxation && isPulse && isBreath && isOxygen && isTemperature && isConsciousness && isDiseaseDate && isHospital){
			document.querySelector('.Modal_Black_Bg').classList.add('Open_Modal');
			console.log('성공')
			// }else{
			// 	alert("입력값을 다시 확인해주세요")
			// 	console.log('실패')
			// }


		})


		// 닫기 버튼 누르면 꺼지기
		document.getElementById('Modal_Close').addEventListener('click', function () {
			document.querySelector('.Modal_Black_Bg').classList.remove('Open_Modal')
		})

		// 모달 검은색 눌렀을때 꺼지기
		document.querySelector('.Modal_Black_Bg').addEventListener('click', function () {
			document.querySelector('.Modal_Black_Bg').classList.remove('Open_Modal')
		})

		// 모달 움직이기 
		$('.Modal_White_Bg').draggable();
	</script>

</body>


</html>